version: 100.{build} 
clone_depth: 1 
clone_folder: c:\projects\pol_testing
image: Visual Studio 2017
platform: x64
configuration: Release
build:
  parallel: true
  project: pol-core/bin-build/polserver.sln
  verbosity: minimal
init:
- git config --global core.autocrlf true
install:
- cd pol-core/bin-build
- cmake ../.. -G "Visual Studio 15 2017 Win64"
cache:
- lib/boost_1_63_0
- lib/curl
test_script:
  - cd ..\\..\\testsuite\\escript 
  - c:\\Python34\\python.exe performtests.py ..\\..\\pol-core\\bin\\Release\\ecompile.exe ..\\..\\pol-core\\bin\\Release\\runecl.exe -n 5
deploy: off

notifications:
- provider: Email
  to:
    - polteam@polserver.com
  on_build_success: false
  on_build_failure: true
  on_build_status_changed: true
